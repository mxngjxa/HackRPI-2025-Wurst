# Required Environment Variables
# Database connection string
DATABASE_URL=postgresql://user:password@localhost:5432/llm_chatbot

# Gemini API key for embeddings and chat
GEMINI_API_KEY=your_api_key_here

# Optional Environment Variables (with defaults shown)
# Gemini model for chat completion
GEMINI_CHAT_MODEL=gemini-1.5-flash

# Gemini model for text embeddings
GEMINI_EMBEDDING_MODEL=embedding-001

# ============================================
# Local Embedding Configuration
# ============================================

# Local model name (e.g., from HuggingFace)
LOCAL_EMBEDDING_MODEL_NAME=jinaai/jina-embeddings-v2-base-en

# Feature flag to use local embeddings (true/false)
USE_LOCAL_EMBEDDINGS=true

# Allow fallback to Gemini if local model fails to load (true/false)
ALLOW_EMBEDDING_FALLBACK=false

# Embedding vector dimension (must match model)
EMBEDDING_DIMENSION=768

# Use mock LLM for development (true/false)
USE_MOCK_LLM=true

# Text chunking parameters
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# Number of chunks to retrieve for context
TOP_K_RETRIEVAL=5

# File upload limits
MAX_FILE_SIZE_MB=10
MAX_FILES_PER_SESSION=5

# Logging configuration
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file name (set to empty string to disable file logging)
LOG_FILE=app.log

# ============================================
# Function Calling Configuration
# ============================================

# Enable Function Calling mode (AI actively calls functions to get data)
# When enabled: AI decides what information it needs and calls tools
# When disabled: Uses traditional RAG mode (retrieve then generate)
# Default: false (RAG mode)
USE_FUNCTION_CALLING=false

# Maximum number of function calls AI can make per question
# Prevents infinite loops and controls API costs
# Default: 5
MAX_FUNCTION_CALLS=5

# Tool Toggles (only used when USE_FUNCTION_CALLING=true)
# Enable/disable specific tools that AI can call

# Semantic search using vector similarity
ENABLE_SEMANTIC_SEARCH_TOOL=true

# Traditional keyword search
ENABLE_KEYWORD_SEARCH_TOOL=true

# Query document metadata
ENABLE_DOCUMENT_QUERY_TOOL=true

# ============================================
# LSH/Redis Configuration
# ============================================

# Feature flag to enable LSH hybrid search (true/false)
USE_LSH_SEARCH=false

# Redis connection details
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# LSH parameters
LSH_NUM_PERM=256
LSH_SIMILARITY_THRESHOLD=0.7
LSH_REDIS_PREFIX=lsh:demo
